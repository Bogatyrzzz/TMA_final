# LifeQuest Hero - Product Requirements Document

## Overview
**LifeQuest Hero** - Telegram Mini App –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ —Å AI-–∞–≤–∞—Ç–∞—Ä–æ–º.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Frontend**: React, Tailwind CSS, Framer Motion, lucide-react
- **Backend**: FastAPI (Python)
- **Database**: Supabase (PostgreSQL)
- **Integrations**: Telegram Bot API, n8n –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI-–∞–≤–∞—Ç–∞—Ä–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
/app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.py          # FastAPI API
‚îÇ   ‚îú‚îÄ‚îÄ supabase_client.py # Supabase connection
‚îÇ   ‚îú‚îÄ‚îÄ bot.py             # Telegram bot (placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ supabase_schema.sql
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.js       # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Onboarding.js       # –û–Ω–±–æ—Ä–¥–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BottomNav.js        # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestConfirmModal.js # –ú–æ–¥–∞–ª –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MenuModal.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api.js
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ telegram.js
‚îî‚îÄ‚îÄ memory/
    ‚îî‚îÄ‚îÄ PRD.md
```

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–§–µ–≤—Ä–∞–ª—å 2026)

### ‚úÖ P0 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ
- [x] **–û–Ω–±–æ—Ä–¥–∏–Ω–≥**: –í–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª, –≤—ã–±–æ—Ä –≤–µ—Ç–∫–∏, –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–∏
- [x] **–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω**: XP-–±–∞—Ä, —É—Ä–æ–≤–µ–Ω—å, 6 —Å—Ç–∞—Ç–æ–≤, –∞–≤–∞—Ç–∞—Ä
- [x] **–°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤**: –°–ø–∏—Å–æ–∫ –∫–≤–µ—Å—Ç–æ–≤, XP –Ω–∞–≥—Ä–∞–¥—ã, —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [x] **–ú–æ–¥–∞–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**: –ö–ª–∏–∫ –ø–æ –∫–≤–µ—Å—Ç—É ‚Üí –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- [x] **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ XP, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- [x] **–ü—Ä–æ—Ñ–∏–ª—å**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —É—Ä–æ–≤–µ–Ω—å, XP, –≤–µ—Ç–∫–∞
- [x] **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: Bottom nav —Å Home, Quests, Profile, Sage (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)
- [x] **PRO –ø–æ–¥–ø–∏—Å–∫–∞**: –ê–∫—Ç–∏–≤–∞—Ü–∏—è PRO —Å—Ç–∞—Ç—É—Å–∞

### ‚úÖ P1 - –í–∞–∂–Ω—ã–µ
- [x] **n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: Webhook –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç E2E)
- [x] **Supabase –º–∏–≥—Ä–∞—Ü–∏—è**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ PostgreSQL
- [x] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Backend 14/14 —Ç–µ—Å—Ç–æ–≤, Frontend 100%

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] **Telegram Bot**: Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–≤–µ—Å—Ç–∞—Ö

### üìã –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –∑–∞–¥–∞—á–∏ (P2)
- [ ] –≠–∫—Ä–∞–Ω "–ú—É–¥—Ä–µ—Ü" (Sage) - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω
- [ ] Image-to-Image –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–∞ (–ø–æ —Å–µ–ª—Ñ–∏)
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### üìã –ë—É–¥—É—â–∏–µ –∑–∞–¥–∞—á–∏ (P3)
- [ ] PRO –ø–æ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ Telegram Stars (–ø–ª–∞—Ç–µ–∂–∏)
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ü–µ–ª–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ä–µ–π—Ç–∏–Ω–≥–∏, –¥—Ä—É–∑—å—è)

## API Endpoints
- `POST /api/users/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/{tg_id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/users/{tg_id}/onboarding` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞
- `GET /api/users/{tg_id}/progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/quests` - –°–ø–∏—Å–æ–∫ –∫–≤–µ—Å—Ç–æ–≤
- `POST /api/quests/{quest_id}/complete` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞
- `POST /api/webhooks/avatar-generated` - Webhook –¥–ª—è n8n

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
### users
- id (uuid), tg_id (int), username, first_name
- age (int), gender (text)
- active_branches (text[]), is_pro (bool)
- strength, health, intellect, agility, confidence, stability (int)
- avatar_url (text)

### progress
- user_id (uuid FK), current_level, current_xp, next_level_xp, total_xp
- goal_text, goal_level, goal_progress

### quests
- id (uuid), title, description, branch, xp_reward, category, is_daily

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- Test user: tg_id=123456789
- API URL: https://quest-hero-3.preview.emergentagent.com

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ê–≤–∞—Ç–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ n8n
- Sage –∫–Ω–æ–ø–∫–∞ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω)
